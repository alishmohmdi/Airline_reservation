[![Review Assignment Due Date](https://classroom.github.com/assets/deadline-readme-button-22041afd0340ce965d47ae6ef1cefeee28c7c493a6346c4f15d667ab976d596c.svg)](https://classroom.github.com/a/h04y3RZ-)
# AP_1403_Assignment_one_template
# برنامه سازی پیشرفته - تمرین شماره ۱

**مدرس**: راضیه قیاسی  
**طراحان**: مهرناز حسینی، زینب پرکان، رضا قمی الاصل

## پروژه: سیستم رزرواسیون بلیط هواپیمایی

---

## مقدمه

هدف از این پروژه، طراحی و پیاده‌سازی یک سیستم رزرواسیون بلیط هواپیما با استفاده از مفاهیم برنامه‌نویسی شیءگرا (OOP) در زبان ++C است.  
باید با طراحی کلاس‌های مناسب، سیستم مدیریت مسافران، پروازها و رزروها را پیاده‌سازی کرده و ذخیره‌سازی و بازیابی اطلاعات را با استفاده از فایل‌های متنی (CSV یا TXT) انجام دهید.

---

## توضیحات کلی پروژه

- تمامی داده‌های سیستم (مسافران، پروازها، رزروها) باید در فایل‌های متنی ذخیره شوند (CSV یا TXT).
- اطلاعات باید به گونه‌ای ذخیره شوند که در اجرای مجدد برنامه قابل بازیابی باشند.
- استفاده از پایگاه داده خارجی (مثل SQLite) مجاز نیست.

---

## مدیریت فایل

- داده‌ها باید در سه فایل جداگانه ذخیره شوند:
  1. `passengers.txt` یا `passengers.csv`
  2. `flights.txt` یا `flights.csv`
  3. `reservations.txt` یا `reservations.csv`
- در صورت عدم وجود فایل‌ها، برنامه باید فایل‌های جدید ایجاد کند.

---

## ویژگی‌های اصلی مورد نیاز

### ۱. مدیریت مسافران

- ثبت مسافر جدید:
  - شناسه یکتای مسافر `passenger_id` (تولید خودکار)
  - نام و نام خانوادگی
  - شماره گذرنامه
  - کد ملی
  - ملیت
  - موجودی کیف پول
- جستجو بر اساس:
  - شناسه یکتای مسافر `passenger_id`
  - کد ملی
  - شماره گذرنامه
  - نام (یا بخشی از نام)
- نمایش لیست مسافران
- ویرایش اطلاعات مسافر (مثل تغییر گذرنامه، به‌روزرسانی موجودی)
- ذخیره و بارگذاری خودکار اطلاعات مسافران

---

### ۲. مدیریت پروازها

- ثبت پرواز جدید:
  - شناسه یکتای پرواز `flight_id` (تولید خودکار)
  - شماره پرواز
  - مبدا و مقصد
  - تاریخ و ساعت پرواز
  - تعداد صندلی‌های خالی
  - قیمت بلیط
- جستجو بر اساس:
  - شناسه یکتای پرواز `flight_id`
  - شماره پرواز
  - مبدا و مقصد
  - تاریخ پرواز
- کاهش تعداد صندلی‌های خالی پس از رزرو
- نمایش لیست پروازهای موجود
- ذخیره و بارگذاری خودکار اطلاعات پروازها

---

### ۳. رزرو (Reservation)

- هر رزرو شامل:
  - شناسه یکتای رزور `reservation_id` (تولید خودکار)
  - شناسه یکتای مسافر `passenger_id`
  - شناسه یکتای پرواز`flight_id`
  - مبلغ پرداخت شده `amount_paid`
  
#### دستورات:

- رزرو یک پرواز (با وارد کردن `passenger_id` و `flight_id`)
- پیش نمایش اطلاعات قبل از تأیید رزرو
- ثبت و نمایش اطلاعات کامل بلیت
- شرایط خطا:
  - پیدا نشدن مسافر `PassengerNotFound`
  - پیدا نشدن پرواز `FlightNotFound`
  - اتمام ظرفیت پرواز `FlightFull`
  - پرواز منقضی شده `FlightExpired`
  - عدم موجودی `InsufficientBalance`
  
- جستجو در بلیت‌ها (با وارد کردن `reservation_id`)
- لغو رزرو (استرداد بلیت):
  - نمایش اطلاعات بلیت
  - برگشت درصدی از مبلغ پرداخت شده به کیف پول مسافر بر اساس زمان باقی مانده تا پرواز:
    - بیش از ۴۸ ساعت: ۹۰٪
    - بین ۲۴ تا ۴۸ ساعت: ۵۰٪
    - کمتر از ۲۴ ساعت: غیرقابل استرداد
- شرایط خطا برای لغو:
  - پیدا نشدن رزور`ReservationNotFound`
  - اتمام ظرفیت پرواز`FlightCompleted`
  - عدم امکان لغو `RefundNotAllowed`

---

### ۴. سیستم خطوط هوایی (AirlineSystem)

برنامه باید سیستم خطوط هوایی را مدیریت کند:
- مدیریت مسافران، پروازها و رزروها
- ارائه گزارش‌های مختلف

#### دستورات:

۱. **مدیریت فایل**:
   - ذخیره اطلاعات در هنگام خروج یا قطع ناگهانی برنامه.

۲. **افزودن، حذف و جستجو**:
   - اعتبارسنجی داده‌های ورودی هنگام افزودن
   - حذف به صورت Soft Delete

۳. **تولید گزارش‌ها**:
   - تولید و ذخیره گزارش‌ها به صورت فایل CSV با پیش‌نمایش
   - انواع گزارش:
     - **گزارش‌های رزرو**:
       - مشاهده تمامی رزروها
       - مشاهده رزروهای آینده، انجام شده، استرداد شده
     - **گزارش‌های پرواز**:
       - لیست مسافران پرواز
       - لیست پروازهای یک روز مشخص
       - لیست پروازهای آینده یا گذشته
     - **گزارش‌های مسافر**:
       - لیست بلیت‌ها و سفرهای انجام شده
       - لیست سفرهای آینده یا استرداد شده

---

## نحوه تست و ارزیابی

- برنامه باید همراه با یک فایل تست (`test.cpp`) ارائه شود که تمامی قابلیت‌ها را بررسی کند.
- می‌توانید از فریمورک‌های تست مانند [Catch2](https://github.com/catchorg/Catch2) استفاده کنید یا تابع `main` مجزا بنویسید.
- فایل تست باید پوشش دهد:
  - ثبت و جستجوی مسافر
  - مدیریت ظرفیت پرواز
  - ذخیره و بازیابی داده‌ها
  - مدیریت خطاهای احتمالی

---

## نمرات

- **تمیزی کد**:
  - رعایت نام‌گذاری مناسب
  - عدم استفاده از متغیرهای global
  - استفاده از مقادیر ثابت به جای Magic Values
- **درستی کد**:
  - برنامه باید بدون خطا و هشدار (warning) کامپایل شود.
- **طراحی**:
  - منطق اصلی برنامه نباید در `main` باشد؛ باید در کلاس‌ها و توابع مجزا پیاده‌سازی شود.
  - رعایت اصول تقسیم وظایف بین کلاس‌ها و سطوح دسترسی (public/private)

---

## نکات پایانی

- نتایج برنامه باید قابل بازتولید باشند.
- تمرین باید **تک نفره** انجام شود؛ کپی کد موجب نمره صفر خواهد شد.

